export const schoolPrompt = `次に与えるトピックについて、内容全てを高校生にも分かるように、複数人の登場人物による会話形式、あるいはナレーターによるナレーション形式の台本を作って。ただし要点はしっかりと押さえて。
最初の一言は、Announcerによるトピックの紹介にして。台本の長さは問わない。
以下に別のトピックに関するサンプルを貼り付けます。このJSONフォーマットに従って。JSON以外は何も出力しないで。

  [
    {
      "speaker": "Student",
      "text": "先生、今日は韓国で起きた戒厳令のことを教えてもらえますか？"
    },
    {
      "speaker": "Teacher",
      "text": "もちろんだよ、太郎くん。韓国で最近、大統領が「戒厳令」っていうのを突然宣言したんだ。"
    },
    {
      "speaker": "Student",
      "text": "戒厳令ってなんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "簡単に言うと、国がすごく危ない状態にあるとき、軍隊を使って人々の自由を制限するためのものなんだ。たとえば、政治活動を禁止したり、人の集まりを取り締まったりするんだよ。"
    },
    {
      "speaker": "Student",
      "text": "それって怖いですね。なんでそんなことをしたんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "大統領は「国会がうまく機能していないから」と言っていたけど、実際には自分の立場を守るために使ったように見えるんだ。それで、軍隊が国会に突入して、議員たちを捕まえようとしたんだ。"
    },
    {
      "speaker": "Student",
      "text": "ええっ！？国会議員を捕まえようとするなんて、すごく危ないことじゃないですか。"
    },
    {
      "speaker": "Teacher",
      "text": "その通りだよ。もし軍隊が国会を占拠していたら、国会で戒厳令を解除することもできなかったかもしれない。つまり、大統領がずっと自分の好きなように国を支配できるようになってしまうんだ。"
    },
    {
      "speaker": "Student",
      "text": "韓国ではどうなったんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "幸い、野党の議員や市民たちが急いで集まって抗議して、6時間後に戒厳令は解除されたんだ。でも、ほんの少しの違いで、韓国の民主主義が大きく傷つけられるところだったんだよ。"
    },
    {
      "speaker": "Student",
      "text": "それは大変なことですね…。日本ではそんなこと起きないんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "実はね、今、日本でも似たような話があるんだよ。自民党が「緊急事態宣言」を憲法に追加しようとしているんだ。"
    },
    {
      "speaker": "Student",
      "text": "緊急事態宣言って、韓国の戒厳令と同じようなものなんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "似ている部分があるね。たとえば、総理大臣が「社会秩序の混乱の危険があるから」と言えば、特別な権限を使って国を動かすことができるんだ。法律と同じ力を持つ命令を出したり、地方自治体に指示を出したりすることができるんだよ。"
    },
    {
      "speaker": "Student",
      "text": "それって便利そうですけど、なんだか心配です。"
    },
    {
      "speaker": "Teacher",
      "text": "そうだね。もちろん、緊急時には素早い対応が必要だから便利な面もあるけど、その権限が濫用されると、とても危険なんだ。たとえば、総理大臣が自分に都合のいいように国を動かしたり、国民の自由を奪ったりすることができるようになってしまうかもしれない。"
    },
    {
      "speaker": "Student",
      "text": "韓国みたいに、軍隊が政治に口を出してくることもあり得るんですか？"
    },
    {
      "speaker": "Teacher",
      "text": "完全にあり得ないとは言えないからこそ、注意が必要なんだ。私たち国民は、自民党の改憲案が権力の濫用を防ぐための適切な制限を含んでいるのかをしっかり監視し、声を上げることが求められる。民主主義が損なわれるのを防ぐために、私たち一人ひとりが積極的に関心を持つことが大切なんだよ。"
    },
    {
      "speaker": "Student",
      "text": "ありがとうございます。とても良い勉強になりました。"
    },
  ]`;

export const webSearchQueryPrompt = `
  目標は、ターゲットを絞ったWeb検索クエリを生成することです。

<コンテキスト>
現在の日付: {current_date}
クエリには、この日付時点で入手可能な最新の情報が含まれていることを確認してください。
</コンテキスト>

<トピック>
ユーザープロンプト: {user_prompt}
</トピック>

<フォーマット>
レスポンスは、以下のキーを含むJSONオブジェクトとしてフォーマットしてください。
- "query": 実際の検索クエリ文字列
</フォーマット>

<例>
出力例:
{{
"query": "machine learning transformer architecture",
}}
</例>

レスポンスはJSON形式で提供してください。タグやバッククォートは含めないでください。
例のように、JSONのみを返してください。
  `;

export const generateWebSearchQuery = (
  current_date: string,
  user_prompt: string
) => {
  return webSearchQueryPrompt
    .replace("{current_date}", current_date)
    .replace("{user_prompt}", user_prompt);
};

export const summarizeWebSearchPrompt = `
<検索結果>
{web_search_result}
</検索結果>

<目標>
上記の検索結果を踏まえて、質の高い原稿を生成する。
</目標>

<要件>
1. 検索結果を注意深く読む
2. 検索結果から、ユーザーのトピックに最も関連性の高い情報を強調表示する。
3. 情報の流れが一貫していることを確認する。
< /要件 >

< フォーマット >
- 指定されたJSONフォーマットに従って、検索結果を要約する。JSON以外は何も出力してはいけない。
< /フォーマット >

<タスク>
まず、提供されたコンテキストについて慎重に検討します。次に、ユーザー入力に対応するコンテキストの要約を指定されたJSONフォーマットに從って生成します。
</タスク>
`;

export const generatewebSearchUserPrompt = (
  userPrompt: string,
  webSearchResult: string
) => {
  return summarizeWebSearchPrompt
    .replace("{user_prompt}", userPrompt)
    .replace("{web_search_result}", webSearchResult);
};

export const judgeRssNeedPrompt = `
次に与えるユーザープロンプトに対して、RSSを使用する必要があるかどうかを判断してください。
ある領域（社会・科学・政治・経済・スポーツ・世界・エンタメ等）の最新かつ広範なニュースを取得する場合はRSSを使用する必要があります。「AIの最新情報」といった特定のテーマに関するニュースを取得する場合はRSSを使用する必要はありません。

<フォーマット>
レスポンスは、以下のキーを含むJSONオブジェクトとしてフォーマットしてください。
- "rssNeed": 必要な場合はtrue、不要な場合はfalse
- "field": RSSフィードのジャンル。選択肢は、general, social, technology, politics, economy, sports, world, entertainment。RSS不使用の場合はnull。
</フォーマット>

<例>
入力例：「今日のニュースをまとめて」
出力例:
{
"rssNeed": true,
"field": "general",
}
</例>
`;
